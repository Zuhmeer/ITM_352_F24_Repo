<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Predict Game</title>
    <script>
        // Fetch the teams data from the /teams route
        async function fetchTeams() {
            try {
                const response = await fetch('/teams');
                const data = await response.json();

                const teams = data.teams;  // Extract the team array from the response
                const homeTeamSelect = document.getElementById('home_team');
                const awayTeamSelect = document.getElementById('away_team');

                // Populate both the home and away team dropdowns
                teams.forEach(team => {
                    const optionHome = document.createElement('option');
                    optionHome.value = team;
                    optionHome.textContent = team;
                    homeTeamSelect.appendChild(optionHome);

                    const optionAway = document.createElement('option');
                    optionAway.value = team;
                    optionAway.textContent = team;
                    awayTeamSelect.appendChild(optionAway);
                });
            } catch (error) {
                console.error('Error fetching team data:', error);
            }
        }

        // Call fetchTeams when the page loads
        window.onload = fetchTeams;
    </script>
</head>
<body>
    <h1>Game Prediction</h1>
    <form action="/predict2-custom" method="GET">
        <label for="home_team">Home Team:</label>
        <select id="home_team" name="home_team">
            <option value="">Select Home Team</option>
        </select>

        <label for="away_team">Away Team:</label>
        <select id="away_team" name="away_team">
            <option value="">Select Away Team</option>
        </select>

        <button type="submit">Predict Game</button>
    </form>
</body>
</html>
